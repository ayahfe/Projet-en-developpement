<head>
    <style>
        body {
            font-family: Sans-serif;
            font-size: 11px;
        }

        .slice {
            cursor: pointer;
        }

        .slice .main-arc {
            stroke: #fff;
            stroke-width: 1px;
        }

        .slice .hidden-arc {
            fill: none;
        }

        .slice text {
            pointer-events: none;
            dominant-baseline: middle;
            text-anchor: middle;
        }
    </style>

    <script src='https://d3js.org/d3.v4.min.js'></script>
</head>
<body>
<script>
    const width = window.innerWidth,
        height = window.innerHeight,
        maxRadius = (Math.min(width, height) / 2) - 5;

    const formatNumber = d3.format(',d');

    const x = d3.scaleLinear()
        .range([0, 2 * Math.PI])
        .clamp(true);

    const y = d3.scaleSqrt()
        .range([maxRadius * .1, maxRadius]);

    const color = d3.scaleOrdinal(d3.schemeCategory20);

    const partition = d3.partition();

    const arc = d3.arc()
        .startAngle(d => x(d.x0))
        .endAngle(d => x(d.x1))
        .innerRadius(d => Math.max(0, y(d.y0)))
        .outerRadius(d => Math.max(0, y(d.y1)));

    const middleArcLine = d => {
        const halfPi = Math.PI / 2;
        const angles = [x(d.x0) - halfPi, x(d.x1) - halfPi];
        const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);

        const middleAngle = (angles[1] + angles[0]) / 2;
        const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw
        if (invertDirection) {
            angles.reverse();
        }

        const path = d3.path();
        path.arc(0, 0, r, angles[0], angles[1], invertDirection);
        return path.toString();
    };

    const textFits = d => {
        const CHAR_SPACE = 6;

        const deltaAngle = x(d.x1) - x(d.x0);
        const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
        const perimeter = r * deltaAngle;

        return d.data.name.length * CHAR_SPACE < perimeter;
    };

    const svg = d3.select('body').append('svg')
        .style('width', '100vw')
        .style('height', '100vh')
        .attr('viewBox', `${-width / 2} ${-height / 2} ${width} ${height}`)
        .on('click', () => focusOn()); // Reset zoom on canvas click

    var rootData = {
        "name": "",
        "children": [ {
  "name" : "doc",
  "color" : "",
  "size" : 0,
  "children" : [ {
    "name" : "testinfected",
    "color" : "",
    "size" : 0,
    "children" : [ {
      "name" : "testing.htm",
      "color" : "",
      "size" : 582,
      "children" : [ ]
    } ]
  } ]
}, {
  "name" : "src",
  "color" : "",
  "size" : 0,
  "children" : [ {
    "name" : "test",
    "color" : "",
    "size" : 0,
    "children" : [ {
      "name" : "java",
      "color" : "",
      "size" : 0,
      "children" : [ {
        "name" : "junit",
        "color" : "",
        "size" : 0,
        "children" : [ {
          "name" : "tests",
          "color" : "",
          "size" : 0,
          "children" : [ {
            "name" : "AllTests.java",
            "color" : "",
            "size" : 15,
            "children" : [ ]
          }, {
            "name" : "extensions",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "ActiveTestTest.java",
              "color" : "",
              "size" : 52,
              "children" : [ ]
            }, {
              "name" : "AllTests.java",
              "color" : "",
              "size" : 15,
              "children" : [ ]
            }, {
              "name" : "ExtensionTest.java",
              "color" : "",
              "size" : 80,
              "children" : [ ]
            }, {
              "name" : "package-info.java",
              "color" : "",
              "size" : 1,
              "children" : [ ]
            }, {
              "name" : "RepeatedTestTest.java",
              "color" : "",
              "size" : 50,
              "children" : [ ]
            } ]
          }, {
            "name" : "framework",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllTests.java",
              "color" : "",
              "size" : 23,
              "children" : [ ]
            }, {
              "name" : "AssertionFailedErrorTest.java",
              "color" : "",
              "size" : 18,
              "children" : [ ]
            }, {
              "name" : "AssertTest.java",
              "color" : "",
              "size" : 156,
              "children" : [ ]
            }, {
              "name" : "ComparisonCompactorTest.java",
              "color" : "",
              "size" : 81,
              "children" : [ ]
            }, {
              "name" : "ComparisonFailureTest.java",
              "color" : "",
              "size" : 39,
              "children" : [ ]
            }, {
              "name" : "DoublePrecisionAssertTest.java",
              "color" : "",
              "size" : 46,
              "children" : [ ]
            }, {
              "name" : "Failure.java",
              "color" : "",
              "size" : 8,
              "children" : [ ]
            }, {
              "name" : "FloatAssertTest.java",
              "color" : "",
              "size" : 49,
              "children" : [ ]
            }, {
              "name" : "InheritedTestCase.java",
              "color" : "",
              "size" : 5,
              "children" : [ ]
            }, {
              "name" : "NoArgTestCaseTest.java",
              "color" : "",
              "size" : 6,
              "children" : [ ]
            }, {
              "name" : "NoTestCaseClass.java",
              "color" : "",
              "size" : 5,
              "children" : [ ]
            }, {
              "name" : "NoTestCases.java",
              "color" : "",
              "size" : 6,
              "children" : [ ]
            }, {
              "name" : "NotPublicTestCase.java",
              "color" : "",
              "size" : 8,
              "children" : [ ]
            }, {
              "name" : "NotVoidTestCase.java",
              "color" : "",
              "size" : 9,
              "children" : [ ]
            }, {
              "name" : "OneTestCase.java",
              "color" : "",
              "size" : 10,
              "children" : [ ]
            }, {
              "name" : "OverrideTestCase.java",
              "color" : "",
              "size" : 6,
              "children" : [ ]
            }, {
              "name" : "package-info.java",
              "color" : "",
              "size" : 1,
              "children" : [ ]
            }, {
              "name" : "Success.java",
              "color" : "",
              "size" : 9,
              "children" : [ ]
            }, {
              "name" : "SuiteTest.java",
              "color" : "",
              "size" : 94,
              "children" : [ ]
            }, {
              "name" : "TestCaseTest.java",
              "color" : "",
              "size" : 170,
              "children" : [ ]
            }, {
              "name" : "TestImplementorTest.java",
              "color" : "",
              "size" : 43,
              "children" : [ ]
            }, {
              "name" : "TestListenerTest.java",
              "color" : "",
              "size" : 66,
              "children" : [ ]
            }, {
              "name" : "ThreeTestCases.java",
              "color" : "",
              "size" : 10,
              "children" : [ ]
            } ]
          }, {
            "name" : "package-info.java",
            "color" : "",
            "size" : 1,
            "children" : [ ]
          }, {
            "name" : "runner",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllTests.java",
              "color" : "",
              "size" : 22,
              "children" : [ ]
            }, {
              "name" : "BaseTestRunnerTest.java",
              "color" : "",
              "size" : 42,
              "children" : [ ]
            }, {
              "name" : "package-info.java",
              "color" : "",
              "size" : 1,
              "children" : [ ]
            }, {
              "name" : "ResultTest.java",
              "color" : "",
              "size" : 151,
              "children" : [ ]
            }, {
              "name" : "StackFilterTest.java",
              "color" : "",
              "size" : 40,
              "children" : [ ]
            }, {
              "name" : "TextFeedbackTest.java",
              "color" : "",
              "size" : 109,
              "children" : [ ]
            }, {
              "name" : "TextRunnerSingleMethodTest.java",
              "color" : "",
              "size" : 27,
              "children" : [ ]
            }, {
              "name" : "TextRunnerTest.java",
              "color" : "",
              "size" : 51,
              "children" : [ ]
            } ]
          }, {
            "name" : "SampleJUnit3Tests.java",
            "color" : "",
            "size" : 36,
            "children" : [ ]
          }, {
            "name" : "WasRun.java",
            "color" : "",
            "size" : 9,
            "children" : [ ]
          } ]
        } ]
      }, {
        "name" : "org",
        "color" : "",
        "size" : 0,
        "children" : [ {
          "name" : "junit",
          "color" : "",
          "size" : 0,
          "children" : [ {
            "name" : "AssumptionViolatedExceptionTest.java",
            "color" : "",
            "size" : 167,
            "children" : [ ]
          }, {
            "name" : "experimental",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "categories",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllCategoriesTests.java",
                "color" : "",
                "size" : 15,
                "children" : [ ]
              }, {
                "name" : "CategoriesAndParameterizedTest.java",
                "color" : "",
                "size" : 105,
                "children" : [ ]
              }, {
                "name" : "CategoryFilterFactoryTest.java",
                "color" : "",
                "size" : 52,
                "children" : [ ]
              }, {
                "name" : "CategoryTest.java",
                "color" : "",
                "size" : 470,
                "children" : [ ]
              }, {
                "name" : "CategoryValidatorTest.java",
                "color" : "",
                "size" : 68,
                "children" : [ ]
              }, {
                "name" : "JavadocTest.java",
                "color" : "",
                "size" : 58,
                "children" : [ ]
              }, {
                "name" : "MultiCategoryTest.java",
                "color" : "",
                "size" : 135,
                "children" : [ ]
              } ]
            } ]
          }, {
            "name" : "internal",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllInternalTests.java",
              "color" : "",
              "size" : 25,
              "children" : [ ]
            }, {
              "name" : "ArrayComparisonFailureTest.java",
              "color" : "",
              "size" : 41,
              "children" : [ ]
            }, {
              "name" : "builders",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AnnotatedBuilderTest.java",
                "color" : "",
                "size" : 86,
                "children" : [ ]
              } ]
            }, {
              "name" : "ChecksTest.java",
              "color" : "",
              "size" : 48,
              "children" : [ ]
            }, {
              "name" : "matchers",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "StacktracePrintingMatcherTest.java",
                "color" : "",
                "size" : 31,
                "children" : [ ]
              }, {
                "name" : "ThrowableCauseMatcherTest.java",
                "color" : "",
                "size" : 13,
                "children" : [ ]
              } ]
            }, {
              "name" : "MethodSorterTest.java",
              "color" : "",
              "size" : 141,
              "children" : [ ]
            }, {
              "name" : "runners",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "ErrorReportingRunnerTest.java",
                "color" : "",
                "size" : 73,
                "children" : [ ]
              }, {
                "name" : "statements",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "ExpectExceptionTest.java",
                  "color" : "",
                  "size" : 67,
                  "children" : [ ]
                }, {
                  "name" : "FailOnTimeoutTest.java",
                  "color" : "",
                  "size" : 221,
                  "children" : [ ]
                } ]
              } ]
            }, {
              "name" : "StackTracesTest.java",
              "color" : "",
              "size" : 270,
              "children" : [ ]
            } ]
          }, {
            "name" : "rules",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllRulesTests.java",
              "color" : "",
              "size" : 29,
              "children" : [ ]
            }, {
              "name" : "BlockJUnit4ClassRunnerOverrideTest.java",
              "color" : "",
              "size" : 129,
              "children" : [ ]
            }, {
              "name" : "ClassRulesTest.java",
              "color" : "",
              "size" : 295,
              "children" : [ ]
            }, {
              "name" : "DisableOnDebugTest.java",
              "color" : "",
              "size" : 125,
              "children" : [ ]
            }, {
              "name" : "ErrorCollectorTest.java",
              "color" : "",
              "size" : 283,
              "children" : [ ]
            }, {
              "name" : "EventCollector.java",
              "color" : "",
              "size" : 157,
              "children" : [ ]
            }, {
              "name" : "ExpectedExceptionTest.java",
              "color" : "",
              "size" : 320,
              "children" : [ ]
            }, {
              "name" : "ExternalResourceRuleTest.java",
              "color" : "",
              "size" : 149,
              "children" : [ ]
            }, {
              "name" : "LoggingMethodRule.java",
              "color" : "",
              "size" : 14,
              "children" : [ ]
            }, {
              "name" : "LoggingStatement.java",
              "color" : "",
              "size" : 20,
              "children" : [ ]
            }, {
              "name" : "LoggingTestRule.java",
              "color" : "",
              "size" : 14,
              "children" : [ ]
            }, {
              "name" : "LoggingTestWatcher.java",
              "color" : "",
              "size" : 33,
              "children" : [ ]
            }, {
              "name" : "MethodRulesTest.java",
              "color" : "",
              "size" : 318,
              "children" : [ ]
            }, {
              "name" : "NameRulesTest.java",
              "color" : "",
              "size" : 40,
              "children" : [ ]
            }, {
              "name" : "RuleChainTest.java",
              "color" : "",
              "size" : 78,
              "children" : [ ]
            }, {
              "name" : "RuleMemberValidatorTest.java",
              "color" : "",
              "size" : 277,
              "children" : [ ]
            }, {
              "name" : "StopwatchTest.java",
              "color" : "",
              "size" : 173,
              "children" : [ ]
            }, {
              "name" : "TempFolderRuleTest.java",
              "color" : "",
              "size" : 232,
              "children" : [ ]
            }, {
              "name" : "TemporaryFolderRuleAssuredDeletionTest.java",
              "color" : "",
              "size" : 35,
              "children" : [ ]
            }, {
              "name" : "TemporaryFolderUsageTest.java",
              "color" : "",
              "size" : 243,
              "children" : [ ]
            }, {
              "name" : "TestRuleTest.java",
              "color" : "",
              "size" : 487,
              "children" : [ ]
            }, {
              "name" : "TestWatcherTest.java",
              "color" : "",
              "size" : 329,
              "children" : [ ]
            }, {
              "name" : "TestWatchmanTest.java",
              "color" : "",
              "size" : 73,
              "children" : [ ]
            }, {
              "name" : "TimeoutRuleTest.java",
              "color" : "",
              "size" : 134,
              "children" : [ ]
            }, {
              "name" : "VerifierRuleTest.java",
              "color" : "",
              "size" : 29,
              "children" : [ ]
            } ]
          }, {
            "name" : "runner",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllRunnerTests.java",
              "color" : "",
              "size" : 15,
              "children" : [ ]
            }, {
              "name" : "FilterFactoriesTest.java",
              "color" : "",
              "size" : 107,
              "children" : [ ]
            }, {
              "name" : "FilterOptionIntegrationTest.java",
              "color" : "",
              "size" : 160,
              "children" : [ ]
            }, {
              "name" : "JUnitCommandLineParseResultTest.java",
              "color" : "",
              "size" : 110,
              "children" : [ ]
            }, {
              "name" : "JUnitCoreTest.java",
              "color" : "",
              "size" : 15,
              "children" : [ ]
            }, {
              "name" : "MainRunner.java",
              "color" : "",
              "size" : 18,
              "children" : [ ]
            }, {
              "name" : "notification",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllNotificationTests.java",
                "color" : "",
                "size" : 12,
                "children" : [ ]
              }, {
                "name" : "ConcurrentRunNotifierTest.java",
                "color" : "",
                "size" : 134,
                "children" : [ ]
              }, {
                "name" : "RunNotifierTest.java",
                "color" : "",
                "size" : 111,
                "children" : [ ]
              }, {
                "name" : "SynchronizedRunListenerTest.java",
                "color" : "",
                "size" : 123,
                "children" : [ ]
              } ]
            }, {
              "name" : "OrderWithValidatorTest.java",
              "color" : "",
              "size" : 40,
              "children" : [ ]
            }, {
              "name" : "RequestTest.java",
              "color" : "",
              "size" : 36,
              "children" : [ ]
            }, {
              "name" : "RunnerSpy.java",
              "color" : "",
              "size" : 28,
              "children" : [ ]
            } ]
          }, {
            "name" : "runners",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllRunnersTests.java",
              "color" : "",
              "size" : 14,
              "children" : [ ]
            }, {
              "name" : "CustomBlockJUnit4ClassRunnerTest.java",
              "color" : "",
              "size" : 56,
              "children" : [ ]
            }, {
              "name" : "model",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllModelTests.java",
                "color" : "",
                "size" : 13,
                "children" : [ ]
              }, {
                "name" : "FrameworkFieldTest.java",
                "color" : "",
                "size" : 48,
                "children" : [ ]
              }, {
                "name" : "FrameworkMethodTest.java",
                "color" : "",
                "size" : 50,
                "children" : [ ]
              }, {
                "name" : "InvalidTestClassErrorTest.java",
                "color" : "",
                "size" : 17,
                "children" : [ ]
              }, {
                "name" : "RunnerBuilderStub.java",
                "color" : "",
                "size" : 9,
                "children" : [ ]
              }, {
                "name" : "TestClassTest.java",
                "color" : "",
                "size" : 215,
                "children" : [ ]
              } ]
            }, {
              "name" : "parameterized",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllParameterizedTests.java",
                "color" : "",
                "size" : 12,
                "children" : [ ]
              }, {
                "name" : "BlockJUnit4ClassRunnerWithParametersTest.java",
                "color" : "",
                "size" : 67,
                "children" : [ ]
              }, {
                "name" : "ParameterizedNamesTest.java",
                "color" : "",
                "size" : 39,
                "children" : [ ]
              }, {
                "name" : "TestWithParametersTest.java",
                "color" : "",
                "size" : 116,
                "children" : [ ]
              } ]
            }, {
              "name" : "RuleContainerTest.java",
              "color" : "",
              "size" : 57,
              "children" : [ ]
            } ]
          }, {
            "name" : "tests",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllTests.java",
              "color" : "",
              "size" : 47,
              "children" : [ ]
            }, {
              "name" : "assertion",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllAssertionTests.java",
                "color" : "",
                "size" : 12,
                "children" : [ ]
              }, {
                "name" : "AssertionTest.java",
                "color" : "",
                "size" : 864,
                "children" : [ ]
              }, {
                "name" : "ComparisonFailureTest.java",
                "color" : "",
                "size" : 45,
                "children" : [ ]
              }, {
                "name" : "MultipleFailureExceptionTest.java",
                "color" : "",
                "size" : 98,
                "children" : [ ]
              } ]
            }, {
              "name" : "deprecated",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllDeprecatedTests.java",
                "color" : "",
                "size" : 11,
                "children" : [ ]
              }, {
                "name" : "JUnit4ClassRunnerTest.java",
                "color" : "",
                "size" : 49,
                "children" : [ ]
              } ]
            }, {
              "name" : "description",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllDescriptionTests.java",
                "color" : "",
                "size" : 13,
                "children" : [ ]
              }, {
                "name" : "AnnotatedDescriptionTest.java",
                "color" : "",
                "size" : 78,
                "children" : [ ]
              }, {
                "name" : "SuiteDescriptionTest.java",
                "color" : "",
                "size" : 31,
                "children" : [ ]
              }, {
                "name" : "TestDescriptionMethodNameTest.java",
                "color" : "",
                "size" : 38,
                "children" : [ ]
              }, {
                "name" : "TestDescriptionTest.java",
                "color" : "",
                "size" : 19,
                "children" : [ ]
              } ]
            }, {
              "name" : "experimental",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllExperimentalTests.java",
                "color" : "",
                "size" : 23,
                "children" : [ ]
              }, {
                "name" : "AssumptionTest.java",
                "color" : "",
                "size" : 256,
                "children" : [ ]
              }, {
                "name" : "MatcherTest.java",
                "color" : "",
                "size" : 36,
                "children" : [ ]
              }, {
                "name" : "max",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllMaxTests.java",
                  "color" : "",
                  "size" : 12,
                  "children" : [ ]
                }, {
                  "name" : "DescriptionTest.java",
                  "color" : "",
                  "size" : 99,
                  "children" : [ ]
                }, {
                  "name" : "JUnit38SortingTest.java",
                  "color" : "",
                  "size" : 50,
                  "children" : [ ]
                }, {
                  "name" : "MaxStarterTest.java",
                  "color" : "",
                  "size" : 247,
                  "children" : [ ]
                } ]
              }, {
                "name" : "parallel",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllParallelTests.java",
                  "color" : "",
                  "size" : 11,
                  "children" : [ ]
                }, {
                  "name" : "ParallelClassTest.java",
                  "color" : "",
                  "size" : 69,
                  "children" : [ ]
                }, {
                  "name" : "ParallelMethodTest.java",
                  "color" : "",
                  "size" : 51,
                  "children" : [ ]
                } ]
              }, {
                "name" : "results",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllResultsTests.java",
                  "color" : "",
                  "size" : 11,
                  "children" : [ ]
                }, {
                  "name" : "PrintableResultTest.java",
                  "color" : "",
                  "size" : 42,
                  "children" : [ ]
                }, {
                  "name" : "ResultMatchersTest.java",
                  "color" : "",
                  "size" : 36,
                  "children" : [ ]
                } ]
              }, {
                "name" : "theories",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllTheoriesTests.java",
                  "color" : "",
                  "size" : 17,
                  "children" : [ ]
                }, {
                  "name" : "AssumingInTheoriesTest.java",
                  "color" : "",
                  "size" : 31,
                  "children" : [ ]
                }, {
                  "name" : "extendingwithstubs",
                  "color" : "",
                  "size" : 0,
                  "children" : [ {
                    "name" : "Correspondent.java",
                    "color" : "",
                    "size" : 4,
                    "children" : [ ]
                  }, {
                    "name" : "Guesser.java",
                    "color" : "",
                    "size" : 103,
                    "children" : [ ]
                  }, {
                    "name" : "GuesserQueue.java",
                    "color" : "",
                    "size" : 47,
                    "children" : [ ]
                  }, {
                    "name" : "MethodCall.java",
                    "color" : "",
                    "size" : 45,
                    "children" : [ ]
                  }, {
                    "name" : "ReguessableValue.java",
                    "color" : "",
                    "size" : 11,
                    "children" : [ ]
                  }, {
                    "name" : "StringableObject.java",
                    "color" : "",
                    "size" : 23,
                    "children" : [ ]
                  }, {
                    "name" : "Stub.java",
                    "color" : "",
                    "size" : 6,
                    "children" : [ ]
                  }, {
                    "name" : "StubbedTheories.java",
                    "color" : "",
                    "size" : 52,
                    "children" : [ ]
                  }, {
                    "name" : "StubbedTheoriesTest.java",
                    "color" : "",
                    "size" : 13,
                    "children" : [ ]
                  } ]
                }, {
                  "name" : "internal",
                  "color" : "",
                  "size" : 0,
                  "children" : [ {
                    "name" : "AllMembersSupplierTest.java",
                    "color" : "",
                    "size" : 167,
                    "children" : [ ]
                  }, {
                    "name" : "AllTheoriesInternalTests.java",
                    "color" : "",
                    "size" : 12,
                    "children" : [ ]
                  }, {
                    "name" : "ParameterizedAssertionErrorTest.java",
                    "color" : "",
                    "size" : 79,
                    "children" : [ ]
                  }, {
                    "name" : "SpecificDataPointsSupplierTest.java",
                    "color" : "",
                    "size" : 115,
                    "children" : [ ]
                  } ]
                }, {
                  "name" : "ParameterSignatureTest.java",
                  "color" : "",
                  "size" : 74,
                  "children" : [ ]
                }, {
                  "name" : "PotentialAssignmentTest.java",
                  "color" : "",
                  "size" : 44,
                  "children" : [ ]
                }, {
                  "name" : "runner",
                  "color" : "",
                  "size" : 0,
                  "children" : [ {
                    "name" : "AllTheoriesRunnerTests.java",
                    "color" : "",
                    "size" : 22,
                    "children" : [ ]
                  }, {
                    "name" : "FailingDataPointMethods.java",
                    "color" : "",
                    "size" : 109,
                    "children" : [ ]
                  }, {
                    "name" : "SuccessfulWithDataPointFields.java",
                    "color" : "",
                    "size" : 165,
                    "children" : [ ]
                  }, {
                    "name" : "TheoriesPerformanceTest.java",
                    "color" : "",
                    "size" : 26,
                    "children" : [ ]
                  }, {
                    "name" : "TypeMatchingBetweenMultiDataPointsMethod.java",
                    "color" : "",
                    "size" : 46,
                    "children" : [ ]
                  }, {
                    "name" : "UnsuccessfulWithDataPointFields.java",
                    "color" : "",
                    "size" : 196,
                    "children" : [ ]
                  }, {
                    "name" : "WhenNoParametersMatch.java",
                    "color" : "",
                    "size" : 41,
                    "children" : [ ]
                  }, {
                    "name" : "WithAutoGeneratedDataPoints.java",
                    "color" : "",
                    "size" : 51,
                    "children" : [ ]
                  }, {
                    "name" : "WithDataPointMethod.java",
                    "color" : "",
                    "size" : 94,
                    "children" : [ ]
                  }, {
                    "name" : "WithExtendedParameterSources.java",
                    "color" : "",
                    "size" : 147,
                    "children" : [ ]
                  }, {
                    "name" : "WithNamedDataPoints.java",
                    "color" : "",
                    "size" : 55,
                    "children" : [ ]
                  }, {
                    "name" : "WithOnlyTestAnnotations.java",
                    "color" : "",
                    "size" : 69,
                    "children" : [ ]
                  }, {
                    "name" : "WithParameterSupplier.java",
                    "color" : "",
                    "size" : 120,
                    "children" : [ ]
                  }, {
                    "name" : "WithUnresolvedGenericTypeVariablesOnTheoryParms.java",
                    "color" : "",
                    "size" : 151,
                    "children" : [ ]
                  } ]
                }, {
                  "name" : "TestedOnSupplierTest.java",
                  "color" : "",
                  "size" : 24,
                  "children" : [ ]
                }, {
                  "name" : "TheoryTestUtils.java",
                  "color" : "",
                  "size" : 26,
                  "children" : [ ]
                } ]
              } ]
            }, {
              "name" : "junit3compatibility",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllJUnit3CompatibilityTests.java",
                "color" : "",
                "size" : 19,
                "children" : [ ]
              }, {
                "name" : "AllTestsTest.java",
                "color" : "",
                "size" : 73,
                "children" : [ ]
              }, {
                "name" : "ClassRequestTest.java",
                "color" : "",
                "size" : 16,
                "children" : [ ]
              }, {
                "name" : "ForwardCompatibilityPrintingTest.java",
                "color" : "",
                "size" : 78,
                "children" : [ ]
              }, {
                "name" : "ForwardCompatibilityTest.java",
                "color" : "",
                "size" : 210,
                "children" : [ ]
              }, {
                "name" : "InitializationErrorForwardCompatibilityTest.java",
                "color" : "",
                "size" : 83,
                "children" : [ ]
              }, {
                "name" : "JUnit38ClassRunnerTest.java",
                "color" : "",
                "size" : 129,
                "children" : [ ]
              }, {
                "name" : "JUnit4TestAdapterTest.java",
                "color" : "",
                "size" : 63,
                "children" : [ ]
              }, {
                "name" : "OldTestClassAdaptingListenerTest.java",
                "color" : "",
                "size" : 25,
                "children" : [ ]
              }, {
                "name" : "OldTests.java",
                "color" : "",
                "size" : 10,
                "children" : [ ]
              }, {
                "name" : "SuiteMethodTest.java",
                "color" : "",
                "size" : 110,
                "children" : [ ]
              } ]
            }, {
              "name" : "listening",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllListeningTests.java",
                "color" : "",
                "size" : 14,
                "children" : [ ]
              }, {
                "name" : "ListenerTest.java",
                "color" : "",
                "size" : 33,
                "children" : [ ]
              }, {
                "name" : "RunnerTest.java",
                "color" : "",
                "size" : 62,
                "children" : [ ]
              }, {
                "name" : "TestListenerTest.java",
                "color" : "",
                "size" : 54,
                "children" : [ ]
              }, {
                "name" : "TextListenerTest.java",
                "color" : "",
                "size" : 60,
                "children" : [ ]
              }, {
                "name" : "UserStopTest.java",
                "color" : "",
                "size" : 27,
                "children" : [ ]
              } ]
            }, {
              "name" : "manipulation",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllManipulationTests.java",
                "color" : "",
                "size" : 15,
                "children" : [ ]
              }, {
                "name" : "AlphanumericOrdering.java",
                "color" : "",
                "size" : 9,
                "children" : [ ]
              }, {
                "name" : "ComparatorBasedOrdering.java",
                "color" : "",
                "size" : 20,
                "children" : [ ]
              }, {
                "name" : "Comparators.java",
                "color" : "",
                "size" : 11,
                "children" : [ ]
              }, {
                "name" : "FilterableTest.java",
                "color" : "",
                "size" : 51,
                "children" : [ ]
              }, {
                "name" : "FilterTest.java",
                "color" : "",
                "size" : 41,
                "children" : [ ]
              }, {
                "name" : "OrderableTest.java",
                "color" : "",
                "size" : 242,
                "children" : [ ]
              }, {
                "name" : "OrderWithTest.java",
                "color" : "",
                "size" : 214,
                "children" : [ ]
              }, {
                "name" : "ReverseAlphanumericOrdering.java",
                "color" : "",
                "size" : 12,
                "children" : [ ]
              }, {
                "name" : "ReverseAlphanumericSorter.java",
                "color" : "",
                "size" : 9,
                "children" : [ ]
              }, {
                "name" : "SingleMethodTest.java",
                "color" : "",
                "size" : 156,
                "children" : [ ]
              }, {
                "name" : "SortableTest.java",
                "color" : "",
                "size" : 240,
                "children" : [ ]
              } ]
            }, {
              "name" : "ObjectContractTest.java",
              "color" : "",
              "size" : 39,
              "children" : [ ]
            }, {
              "name" : "package-info.java",
              "color" : "",
              "size" : 1,
              "children" : [ ]
            }, {
              "name" : "running",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllRunningTests.java",
                "color" : "",
                "size" : 15,
                "children" : [ ]
              }, {
                "name" : "classes",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllClassesTests.java",
                  "color" : "",
                  "size" : 22,
                  "children" : [ ]
                }, {
                  "name" : "BlockJUnit4ClassRunnerTest.java",
                  "color" : "",
                  "size" : 58,
                  "children" : [ ]
                }, {
                  "name" : "ClassLevelMethodsWithIgnoredTestsTest.java",
                  "color" : "",
                  "size" : 133,
                  "children" : [ ]
                }, {
                  "name" : "EnclosedTest.java",
                  "color" : "",
                  "size" : 46,
                  "children" : [ ]
                }, {
                  "name" : "IgnoreClassTest.java",
                  "color" : "",
                  "size" : 26,
                  "children" : [ ]
                }, {
                  "name" : "ParameterizedTestTest.java",
                  "color" : "",
                  "size" : 663,
                  "children" : [ ]
                }, {
                  "name" : "parent",
                  "color" : "",
                  "size" : 0,
                  "children" : [ {
                    "name" : "ParentRunnerClassLoaderTest.java",
                    "color" : "",
                    "size" : 74,
                    "children" : [ ]
                  }, {
                    "name" : "TestWithClassRule.java",
                    "color" : "",
                    "size" : 32,
                    "children" : [ ]
                  } ]
                }, {
                  "name" : "ParentRunnerFilteringTest.java",
                  "color" : "",
                  "size" : 146,
                  "children" : [ ]
                }, {
                  "name" : "ParentRunnerTest.java",
                  "color" : "",
                  "size" : 261,
                  "children" : [ ]
                }, {
                  "name" : "RunWithTest.java",
                  "color" : "",
                  "size" : 69,
                  "children" : [ ]
                }, {
                  "name" : "SuiteTest.java",
                  "color" : "",
                  "size" : 178,
                  "children" : [ ]
                }, {
                  "name" : "ThreadsTest.java",
                  "color" : "",
                  "size" : 64,
                  "children" : [ ]
                }, {
                  "name" : "UseSuiteAsASuperclassTest.java",
                  "color" : "",
                  "size" : 37,
                  "children" : [ ]
                } ]
              }, {
                "name" : "core",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllCoreTests.java",
                  "color" : "",
                  "size" : 12,
                  "children" : [ ]
                }, {
                  "name" : "CommandLineTest.java",
                  "color" : "",
                  "size" : 62,
                  "children" : [ ]
                }, {
                  "name" : "JUnitCoreReturnsCorrectExitCodeTest.java",
                  "color" : "",
                  "size" : 34,
                  "children" : [ ]
                }, {
                  "name" : "SystemExitTest.java",
                  "color" : "",
                  "size" : 23,
                  "children" : [ ]
                } ]
              }, {
                "name" : "methods",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "AllMethodsTests.java",
                  "color" : "",
                  "size" : 15,
                  "children" : [ ]
                }, {
                  "name" : "AnnotationTest.java",
                  "color" : "",
                  "size" : 704,
                  "children" : [ ]
                }, {
                  "name" : "ExpectedTest.java",
                  "color" : "",
                  "size" : 70,
                  "children" : [ ]
                }, {
                  "name" : "InheritedTestTest.java",
                  "color" : "",
                  "size" : 32,
                  "children" : [ ]
                }, {
                  "name" : "ParameterizedTestMethodTest.java",
                  "color" : "",
                  "size" : 149,
                  "children" : [ ]
                }, {
                  "name" : "TestMethodTest.java",
                  "color" : "",
                  "size" : 205,
                  "children" : [ ]
                }, {
                  "name" : "TimeoutTest.java",
                  "color" : "",
                  "size" : 284,
                  "children" : [ ]
                } ]
              } ]
            }, {
              "name" : "SampleJUnit4Tests.java",
              "color" : "",
              "size" : 102,
              "children" : [ ]
            }, {
              "name" : "TestSystem.java",
              "color" : "",
              "size" : 24,
              "children" : [ ]
            }, {
              "name" : "validation",
              "color" : "",
              "size" : 0,
              "children" : [ {
                "name" : "AllValidationTests.java",
                "color" : "",
                "size" : 12,
                "children" : [ ]
              }, {
                "name" : "anotherpackage",
                "color" : "",
                "size" : 0,
                "children" : [ {
                  "name" : "Sub.java",
                  "color" : "",
                  "size" : 3,
                  "children" : [ ]
                }, {
                  "name" : "Super.java",
                  "color" : "",
                  "size" : 7,
                  "children" : [ ]
                } ]
              }, {
                "name" : "BadlyFormedClassesTest.java",
                "color" : "",
                "size" : 54,
                "children" : [ ]
              }, {
                "name" : "FailedConstructionTest.java",
                "color" : "",
                "size" : 24,
                "children" : [ ]
              }, {
                "name" : "ValidationTest.java",
                "color" : "",
                "size" : 35,
                "children" : [ ]
              } ]
            } ]
          }, {
            "name" : "validator",
            "color" : "",
            "size" : 0,
            "children" : [ {
              "name" : "AllValidatorTests.java",
              "color" : "",
              "size" : 12,
              "children" : [ ]
            }, {
              "name" : "AnnotationsValidatorTest.java",
              "color" : "",
              "size" : 80,
              "children" : [ ]
            }, {
              "name" : "AnnotationValidatorFactoryTest.java",
              "color" : "",
              "size" : 38,
              "children" : [ ]
            }, {
              "name" : "PublicClassValidatorTest.java",
              "color" : "",
              "size" : 31,
              "children" : [ ]
            } ]
          } ]
        } ]
      } ]
    } ]
  } ]
} ]
    }


    root = d3.hierarchy(rootData);
    root.sum(d => d.size);

    const slice = svg.selectAll('g.slice')
        .data(partition(root).descendants());

    slice.exit().remove();

    const newSlice = slice.enter()
        .append('g').attr('class', 'slice')
        .on('click', d => {
            d3.event.stopPropagation();
            focusOn(d);
        });

    newSlice.append('title')
        .text(d => d.data.name + '\n' + formatNumber(d.value));

    newSlice.append('path')
        .attr('class', 'main-arc')
        .style('fill', d => color((d.children ? d : d.parent).data.name))
        .attr('d', arc);

    newSlice.append('path')
        .attr('class', 'hidden-arc')
        .attr('id', (_, i) => `hiddenArc${i}`)
        .attr('d', middleArcLine);

    const text = newSlice.append('text')
        .attr('display', d => textFits(d) ? null : 'none');

    // Add white contour
    text.append('textPath')
        .attr('startOffset', '50%')
        .attr('xlink:href', (_, i) => `#hiddenArc${i}`)
        .text(d => d.data.name)
        .style('fill', 'none')
        .style('stroke', '#fff')
        .style('stroke-width', 5)
        .style('stroke-linejoin', 'round');

    text.append('textPath')
        .attr('startOffset', '50%')
        .attr('xlink:href', (_, i) => `#hiddenArc${i}`)
        .text(d => d.data.name);

    function focusOn(d = {x0: 0, x1: 1, y0: 0, y1: 1}) {
        const transition = svg.transition()
            .duration(750)
            .tween('scale', () => {
                const xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                    yd = d3.interpolate(y.domain(), [d.y0, 1]);
                return t => {
                    x.domain(xd(t));
                    y.domain(yd(t));
                };
            });

        transition.selectAll('path.main-arc')
            .attrTween('d', d => () => arc(d));

        transition.selectAll('path.hidden-arc')
            .attrTween('d', d => () => middleArcLine(d));

        transition.selectAll('text')
            .attrTween('display', d => () => textFits(d) ? null : 'none');

        moveStackToFront(d);

        //

        function moveStackToFront(elD) {
            svg.selectAll('.slice').filter(d => d === elD)
                .each(function (d) {
                    this.parentNode.appendChild(this);
                    if (d.parent) {
                        moveStackToFront(d.parent);
                    }
                })
        }
    }
</script>
</body>